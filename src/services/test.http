POST https://24mdfdusj8.execute-api.eu-central-1.amazonaws.com/dev/users

{
    "first_name":"first name2",
    "last_name":"last name",
    "email":"email"
}

### user list

GET https://24mdfdusj8.execute-api.eu-central-1.amazonaws.com/dev/users

### get specific user
GET https://24mdfdusj8.execute-api.eu-central-1.amazonaws.com/dev/users/1


###
 PUT https://24mdfdusj8.execute-api.eu-central-1.amazonaws.com/dev/users/1
 
 {
    "first_name":"first_updated2",
    "last_name":"last_updated22",
    "email":"email_updated",
    "isGuest":true
 }

###
DELETE https://24mdfdusj8.execute-api.eu-central-1.amazonaws.com/dev/users/21


# transactions

### create transaction
POST https://kgz5a5cmll.execute-api.eu-central-1.amazonaws.com/dev/transactions

{
    "userId": 2,
    "transactionTypeId": 5,
    "amount":25,
    "date": "2019-03-12T16:15:15"
}

### transactions list
GET https://kgz5a5cmll.execute-api.eu-central-1.amazonaws.com/dev/transactions/?from=1564606800000&to=1569178186700


### get transactions types
GET https://kgz5a5cmll.execute-api.eu-central-1.amazonaws.com/dev/transactions/settings

### get specific transaction
GET https://kgz5a5cmll.execute-api.eu-central-1.amazonaws.com/dev/transactions/2

###
PUT https://kgz5a5cmll.execute-api.eu-central-1.amazonaws.com/dev/transactions/2

{
    "userId": 2,
    "transactionTypeId": 1,
    "amount":26,
    "date": "2019-09-15T16:15:15"
}

###
DELETE https://kgz5a5cmll.execute-api.eu-central-1.amazonaws.com/dev/transactions/3



# drop table user_balances;
# CREATE TEMP TABLE user_balances AS
# select user_id,sum(amount) as balance from transactions where exec_date < '2019-03-18' group by user_id;

# select 
# 	b.user_id,
# 	'העברת יתרה' as type_name,
# 	'2019-03-18' as date,
# 	b.balance 
# from user_balances b 
# union 
# select 
# t.user_id,
# tt."name" as type_name,
# t.exec_date,
# t.amount
# from transactions t 
# join transaction_types tt 
# on tt.id=t.type_id 
# where t.exec_date>='2019-03-18'
# order by user_id,date asc
